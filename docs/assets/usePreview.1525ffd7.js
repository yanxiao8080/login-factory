var U=Object.defineProperty;var F=(e,t,o)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var w=(e,t,o)=>(F(e,typeof t!="symbol"?t+"":t,o),o);import{d as g,o as _,c as h,b as v,p as C,l as L,m as $,q as A,s as N,v as T,r as y,g as x,w as E,a as d,e as p,x as j,y as I,z as r,E as P,A as k}from"./index.aea8549b.js";var b=(e,t)=>{const o=e.__vccOpts||e;for(const[n,s]of t)o[n]=s;return o};const H=g({name:"Hide"}),M={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},G=v("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),Z=v("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),q=[G,Z];function J(e,t,o,n,s,c){return _(),h("svg",M,q)}var Y=b(H,[["render",J]]);const W=g({name:"Lock"}),K={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Q=v("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),X=v("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1),tt=[Q,X];function et(e,t,o,n,s,c){return _(),h("svg",K,tt)}var ot=b(W,[["render",et]]);const nt=g({name:"User"}),st={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rt=v("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"},null,-1),at=[rt];function it(e,t,o,n,s,c){return _(),h("svg",st,at)}var ct=b(nt,[["render",it]]);const ut=g({name:"View"}),lt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mt=v("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),ft=[mt];function pt(e,t,o,n,s,c){return _(),h("svg",lt,ft)}var dt=b(ut,[["render",pt]]);class u{static getType(t){return Object.prototype.toString.call(t)}static getTypeof(t){return typeof t}static isNumber(t){return u.getType(t)==="[object Number]"}static isString(t){return u.getType(t)==="[object String]"}static isBoolean(t){return u.getType(t)==="[object Boolean]"}static isObject(t){return u.getType(t)==="[object Object]"}static isArray(t){return u.getType(t)==="[object Array]"}static isEmptyObj(t){return u.isObject(t)&&!Object.keys(t).length}static isEmptyArr(t){return u.isArray(t)&&!t.length}static isFunction(t){return u.getType(t)==="[object Function]"}static isExist(t){return t!=null}static isDate(t){return u.getType(t)==="[object Date]"}}class gt{constructor(){w(this,"subscriberList",[])}emit(...t){this.subscriberList.forEach(o=>{u.isFunction(o)&&o.apply(this,t)})}on(t){this.subscriberList.push(t)}off(t){this.subscriberList=this.subscriberList.filter(o=>o!==t)}clear(){this.subscriberList.length=0}}const V=Symbol(),B=Symbol(),O=Symbol();function yt(){const e={};C(V,e);const t=L({});C(B,t);const o=new gt;C(O,o);function n(){return o.emit(),Object.keys(t).length>0?{res:!1,verifyRes:t}:{res:!0}}return{formData:e,verifyRes:t,verify:n}}function z(e){const t=$(V,{}),o=$(B,{}),n=$(O),s=A("");N(()=>{t[e.formCompAttrs.name]=s.value}),T(()=>{delete t[e.formCompAttrs.name],delete o[e.formCompAttrs.name]});function c(i){t[e.formCompAttrs.name]=i,l(i)}n&&n.on(()=>l(s.value));function l(i){const a=f(i);a.res?delete o[e.formCompAttrs.name]:o[e.formCompAttrs.name]=a.msg}function f(i){if(e.formCompAttrs.required&&!i)return{res:!1,msg:e.formCompAttrs.label+"\u4E0D\u80FD\u4E3A\u7A7A"};const a=e.formCompAttrs.rules;return a.reg&&!new RegExp(a.reg).test(i)?{res:!1,msg:a.message||e.formCompAttrs.label+"\u683C\u5F0F\u9519\u8BEF"}:{res:!0}}return{modelValue:s,onChange:c}}const _t={name:"UserInput",inheritAttrs:!1},vt=g({..._t,props:{formCompAttrs:{type:Object,default:()=>({})}},setup(e){const t=e,{modelValue:o,onChange:n}=z(t);return(s,c)=>{const l=y("el-icon"),f=y("ElInput");return _(),x(f,j({modelValue:p(o),"onUpdate:modelValue":c[0]||(c[0]=i=>I(o)?o.value=i:null)},s.$attrs,{onChange:p(n)}),{prefix:E(()=>[d(l,null,{default:E(()=>[d(p(ct))]),_:1})]),_:1},16,["modelValue","onChange"])}}}),ht={name:"PasswordInput",inheritAttrs:!1},bt=g({...ht,props:{formCompAttrs:{type:Object,default:()=>({})}},setup(e){const t=e,{modelValue:o,onChange:n}=z(t),s=A(!1),c=r(()=>s.value?i:f);function l(){s.value=!s.value}const f=d("div",{onClick:()=>l()},[d(dt,{style:"cursor: pointer;"},null)]),i=d("div",{onClick:()=>l()},[d(Y,{style:"cursor: pointer;"},null)]);return(a,m)=>{const D=y("ElInput");return _(),x(D,j({modelValue:p(o),"onUpdate:modelValue":m[0]||(m[0]=S=>I(o)?o.value=S:null)},a.$attrs,{type:s.value?"":"password","prefix-icon":p(ot),"suffix-icon":p(c),onChange:p(n)}),null,16,["modelValue","type","prefix-icon","suffix-icon","onChange"])}}});var R=(e=>(e[e.UPDATE_DATA=0]="UPDATE_DATA",e[e.LOGIN_CREATE=1]="LOGIN_CREATE",e[e.REPLY_MOUNTED=2]="REPLY_MOUNTED",e))(R||{});const At=[{type:"input",label:"\u8F93\u5165\u6846",component:P},{type:"user",label:"\u7528\u6237\u540D",component:vt},{type:"password",label:"\u5BC6\u7801",component:bt}];function wt(){const e=A({app:{},formAreaConfig:{},formTypeList:[],titleList:[]}),t=new BroadcastChannel("preview");return t.postMessage(JSON.stringify({type:R.LOGIN_CREATE,msg:"\u767B\u9646\u9875\u521B\u5EFA"})),t.addEventListener("message",function(o){const n=JSON.parse(o.data);e.value=n.data}),{app:r(()=>e.value.app),formAreaConfig:r(()=>e.value.formAreaConfig),formTypeList:r(()=>e.value.formTypeList),titleList:r(()=>e.value.titleList)}}function Et(e,t){const o=r(()=>{var a,m;return(m=(a=e.value)==null?void 0:a.bgImg)!=null&&m.src?`url('${e.value.bgImg.src}')`:""}),n=r(()=>t.value.position||{}),s=r(()=>{let a=0,m=0;return n.value.top===""&&n.value.vertical!=="center"&&(a=5),n.value.right===""&&n.value.horizontal!=="center"&&(m=10),`${a}% ${m}%`}),c=r(()=>n.value.top+n.value.topUnit),l=r(()=>n.value.right+n.value.rightUnit),f=r(()=>n.value.width+n.value.widthUnit),i=r(()=>n.value.height+n.value.heightUnit);return{bgImg:o,position:n,positionPadding:s,positionTop:c,positionRight:l,positionWidth:f,positionHeight:i,formAreaBg:r(()=>t.value.background)}}function Lt(e){const t=r(()=>e.formTypeItem.submitButConfig||{}),o=L({color:r(()=>t.value.textColor),background:""});return k(t,n=>{n.openLinearGradient?o.background=`linear-gradient(${n.linearGradient}deg, ${n.linearGradientColors.join(",")})`:o.background=n.background},{deep:!0,immediate:!0}),{submitButConfig:t,butStyle:o}}export{R as M,b as _,yt as a,wt as b,Et as c,At as f,Lt as u};
